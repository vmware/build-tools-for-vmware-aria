<?xml version="1.0" encoding="utf-8" ?><workflow xmlns="http://vmware.com/vco/workflow" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://vmware.com/vco/workflow http://vmware.com/vco/workflow/Workflow-v4.xsd" root-name="item6" object-name="workflow:name=generic" id="b4f19571-ef7b-3e2a-b66d-28c16b63895a" version="1.0.0" api-version="6.0.0" restartMode="1" resumeFromFailedMode="0"><display-name><![CDATA[Workflow Test]]></display-name><description><![CDATA[Calling another workflow and binding values correctly]]></description><position x="105" y="45.90909090909091" /><attrib name="waitingTimer" type="Date" read-only="false" /><attrib name="counter" type="number" read-only="false" /><attrib name="first" type="number" read-only="false" /><attrib name="second" type="number" read-only="false" /><attrib name="result" type="number" read-only="false" /><attrib name="errorMessage" type="string" read-only="false" /><workflow-item name="item0" type="end" end-mode="0"><position x="1545.0" y="45.40909090909091" /></workflow-item><workflow-item name="item1" out-name="item7" type="custom-condition" alt-out-name="item2"><script encoded="false"><![CDATA[return waitingTimer !== null;]]></script><display-name><![CDATA[decisionElement]]></display-name><in-binding><bind name="waitingTimer" type="Date" export-name="waitingTimer" /></in-binding><position x="225.0" y="55.40909090909091" /></workflow-item><workflow-item name="item2" out-name="item3" type="task"><script encoded="false"><![CDATA[first = 1;
second = 2;
]]></script><display-name><![CDATA[prepareItems]]></display-name><in-binding><bind name="first" type="number" export-name="first" /><bind name="second" type="number" export-name="second" /></in-binding><out-binding><bind name="first" type="number" export-name="first" /><bind name="second" type="number" export-name="second" /></out-binding><position x="385.0" y="55.40909090909091" /></workflow-item><workflow-item name="item3" out-name="item4" type="link" linked-workflow-id="9e4503db-cbaa-435a-9fad-144409c08df0"><display-name><![CDATA[callOtherWf]]></display-name><in-binding><bind name="first" type="number" export-name="first" /><bind name="second" type="number" export-name="second" /></in-binding><out-binding><bind name="result" type="number" export-name="result" /></out-binding><position x="545.0" y="55.40909090909091" /></workflow-item><workflow-item name="item4" out-name="item0" type="task"><script encoded="false"><![CDATA[System.log("Result: " + result);
]]></script><display-name><![CDATA[print]]></display-name><in-binding><bind name="result" type="number" export-name="result" /></in-binding><position x="705.0" y="55.40909090909091" /></workflow-item><workflow-item name="item5" out-name="item1" type="task"><script encoded="false"><![CDATA[if (!counter) {
    counter = 0;
}
counter++;
if (counter < 2) {
    var tt = Date.now() + 5 * 1000;
    waitingTimer = new Date(tt);
}
else {
    waitingTimer = null;
}
System.log("Counter: " + counter);
System.log("Waiting Timer: " + waitingTimer);
]]></script><display-name><![CDATA[execute]]></display-name><in-binding><bind name="waitingTimer" type="Date" export-name="waitingTimer" /><bind name="counter" type="number" export-name="counter" /></in-binding><out-binding><bind name="waitingTimer" type="Date" export-name="waitingTimer" /><bind name="counter" type="number" export-name="counter" /></out-binding><position x="865.0" y="55.40909090909091" /></workflow-item><workflow-item name="item6" out-name="item5" type="task"><script encoded="false"><![CDATA[System.log("Starting workflow");
]]></script><display-name><![CDATA[start]]></display-name><position x="1025.0" y="55.40909090909091" /></workflow-item><workflow-item name="item7" out-name="item5" type="waiting-timer"><display-name><![CDATA[waitForEvent]]></display-name><in-binding><bind name="timer.date" type="Date" export-name="waitingTimer" /></in-binding><position x="1185.0" y="55.40909090909091" /></workflow-item><error-handler name="item8" throw-bind-name="errorMessage" ><position x="340" y="110"/></error-handler><workflow-item name="item8" type="end" end-mode="1" throw-bind-name="errorMessage" ><out-binding><bind name="errorMessage" type="string" export-name="errorMessage" /></out-binding><position x="540" y="110"/></workflow-item><presentation></presentation></workflow>